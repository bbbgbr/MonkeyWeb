let loadHomeCarousel=(()=>{var c=_asyncToGenerator(function*(){let[d,e]=yield Promise.all([getConfig(),$.post("post/v1/countAnnouncement")]),f=d.studentSlideshowPath;f=f.slice(f.indexOf("MonkeyWebData")+14);let g;for(let h in g=window.innerWidth>window.innerHeight?e.filter(function(h){return 0<=h.slice(0,1).indexOf("l")}):e.filter(function(h){return 0<=h.slice(0,1).indexOf("p")}),g.sort(function(h,j){return parseInt(h.slice(1,-4))-parseInt(j.slice(1,-4))}),g)$(".galleria").append("<img src='"+f+g[h]+"'>");Galleria.loadTheme("galleria/themes/classic/galleria.classic.min.js"),Galleria.run($(".galleria"),{extend:function(){this.setOptions("transition","fade"),this.play(5e3)}})});return function(){return c.apply(this,arguments)}})(),loadAdminHomeCarousel=(()=>{var c=_asyncToGenerator(function*(){let[d,e]=yield Promise.all([getConfig(),$.post("post/v1/countAnnouncement")]),f=d.studentSlideshowPath;f=f.slice(f.indexOf("MonkeyWebData")+14);let g=getCookieDict();if(void 0===g.slideMode)writeCookie("slideMode","n"),writeCookie("slideStyle","classic"),location.reload();else{let h=e.filter(function(k){return 0<=k.slice(0,1).indexOf(g.slideMode)});for(let k in h.sort(function(k,l){return parseInt(k.slice(1,-4))-parseInt(l.slice(1,-4))}),h)$(".galleria").append("<img src='"+f+h[k]+"'>");let j;switch(g.slideMode){case"p":j=5e3;break;case"l":j=5e3;break;case"n":j=1e4;break;default:j=1e4;}Galleria.loadTheme("galleria/themes/"+g.slideStyle+"/galleria."+g.slideStyle+".min.js"),Galleria.run($(".galleria"),{extend:function(){this.setOptions("transition","fade"),this.play(j)}})}});return function(){return c.apply(this,arguments)}})();function _asyncToGenerator(c){return function(){var d=c.apply(this,arguments);return new Promise(function(e,f){function g(h,j){try{var k=d[h](j),l=k.value}catch(m){return void f(m)}return k.done?void e(l):Promise.resolve(l).then(function(m){g("next",m)},function(m){g("throw",m)})}return g("next")})}}window.addEventListener("orientationchange",function(){location.reload()},!1),$("#stdPtBtn").click(function(){writeCookie("slideMode","p"),location.reload()}),$("#stdLcBtn").click(function(){writeCookie("slideMode","l"),location.reload()}),$("#adminNwBtn").click(function(){writeCookie("slideMode","n"),location.reload()}),$("body").on("dblclick",".galleria-container",function(){let c=getCookieDict();"classic"===c.slideStyle?writeCookie("slideStyle","fullscreen"):writeCookie("slideStyle","classic"),location.reload()}),$("#uploadBtn").click(function(){$("#uploadModal").modal("show")}),$("#slideFile").change(function(){$("#fileLabel").html(this.files.length+" files selected.")}),$("#submitUploadBtn").click(function(){let c=$("#slideFile"),d=c.val().split(".").pop().toLowerCase();if(-1===$.inArray(d,["png","jpg","jpeg"]))alert("\u0E01\u0E23\u0E38\u0E13\u0E32\u0E2D\u0E31\u0E1E\u0E44\u0E1F\u0E25\u0E4C .jpg, .jpeg \u0E2B\u0E23\u0E37\u0E2D .png \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19");else{if(confirm("Old files will be replace, continue?")){let f=c.get(0).files;if(0<f.length){let g=new FormData;for(let j,h=0;h<f.length;h++)j=f[h],g.append("file[]",j,j.name);$.ajax({url:"post/updateStudentSlideshow",type:"POST",data:g,processData:!1,contentType:!1,success:function(){location.reload()}})}}}});