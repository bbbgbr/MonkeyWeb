let getData=(()=>{var a=_asyncToGenerator(function*(){let b=yield $.post('post/v1/listTutor'),c=[];for(let f in b)c.push($.post('v2/workflow/listNode',{id:b[f].tutorID}));let d=yield Promise.all(c);for(let f in d)uniqueTask=_.union(uniqueTask,d[f].nodes),uniqueTask=_.remove(uniqueTask,function(g){return g.canDelete});getTutorName()});return function(){return a.apply(this,arguments)}})(),getTutorName=(()=>{var a=_asyncToGenerator(function*(){let b=[];for(let d in uniqueTask)b.push(name(uniqueTask[d].owner));let c=yield Promise.all(b);for(let d in uniqueTask)uniqueTask[d].owner=c[d].nicknameEn;genTable(1)});return function(){return a.apply(this,arguments)}})();function _asyncToGenerator(a){return function(){var b=a.apply(this,arguments);return new Promise(function(c,d){function f(g,h){try{var j=b[g](h),k=j.value}catch(l){return void d(l)}return j.done?void c(k):Promise.resolve(k).then(function(l){f('next',l)},function(l){f('throw',l)})}return f('next')})}}$('#bodyPane').hide();let uniqueTask=[];getData();function genTable(a){let b=uniqueTask;switch(a){case 2:b=_.orderBy(b,'title','asc');break;case 3:b=_.orderBy(b,'childOwnerName','asc');break;case 4:b=_.orderBy(b,'duedate','asc');break;case 5:b=_.orderBy(b,'status','asc');break;default:}let c=$('#tableBody');for(let d in c.empty(),b){let f=null===b[d].duedate?'None':moment(b[d].duedate).format('DD/MM/YY');let g='';switch(b[d].status.toLowerCase()){case'assign':g='bg-warning';break;case'complete':g='bg-success text-white';break;default:}c.append('<tr class=\''+g+'\'><td class=\'text-center\'>'+b[d].title+'</td><td class=\'text-center\'>'+b[d].owner+'</td><td class=\'text-center\'>'+b[d].status+'</td><td class=\'text-center\'>'+b[d].childOwnerName+'</td><td class=\'text-center\'>'+f+'</td></tr>')}$('#loaddingPane').hide(),$('#bodyPane').show()}$('#filterSelect').change(function(){genTable(parseInt(this.value))});